<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Play2Love</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="glass-card">
      <img src="assets/logo.png" class="logo" alt="Heart" />
      <h1>Play2Love</h1>
      <p>Create or join a room to play with your partner</p>
      
      <input type="text" id="username" placeholder="Enter your name" />
      <input type="text" id="roomCode" placeholder="Room Code (optional)" />

      <div class="btn-group">
        <button onclick="createRoom()">Create Room</button>
        <button onclick="joinRoom()">Join Room</button>
      </div>

      <div class="avatars">
        <img src="assets/avatar-boy.png" id="boy" onclick="selectAvatar('boy')" />
        <img src="assets/avatar-girl.png" id="girl" onclick="selectAvatar('girl')" />
      </div>

      <audio id="bgMusic" src="assets/love.mp3" loop></audio>
      <button class="music-btn" onclick="toggleMusic()">ðŸŽµ</button>

      <p class="credit">Made by <a href="https://www.instagram.com/_r4rony_" target="_blank">r4rony</a></p>
    </div>
  </div>

  <script>
    let selectedAvatar = '';

    function selectAvatar(gender) {
      selectedAvatar = gender;
      document.getElementById("boy").classList.remove("selected");
      document.getElementById("girl").classList.remove("selected");
      document.getElementById(gender).classList.add("selected");
    }

    function createRoom() {
      const username = document.getElementById("username").value;
      if (!username || !selectedAvatar) {
        alert("Please enter name and select avatar.");
        return;
      }
      const room = Math.random().toString(36).substr(2, 6);
      window.location.href = `room.html?room=${room}&name=${username}&avatar=${selectedAvatar}`;
    }

    function joinRoom() {
      const username = document.getElementById("username").value;
      const room = document.getElementById("roomCode").value;
      if (!username || !room || !selectedAvatar) {
        alert("Please enter name, room and select avatar.");
        return;
      }
      window.location.href = `room.html?room=${room}&name=${username}&avatar=${selectedAvatar}`;
    }

    function toggleMusic() {
      const music = document.getElementById("bgMusic");
      music.paused ? music.play() : music.pause();
    }
  </script>
</body>
</html>
